{"ast":null,"code":"import _asyncToGenerator from\"/home/stevengez/Documentos/GitHub/SOPES1/Practica1/FrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/stevengez/Documentos/GitHub/SOPES1/Practica1/FrontEnd/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/stevengez/Documentos/GitHub/SOPES1/Practica1/FrontEnd/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/stevengez/Documentos/GitHub/SOPES1/Practica1/FrontEnd/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/stevengez/Documentos/GitHub/SOPES1/Practica1/FrontEnd/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/home/stevengez/Documentos/GitHub/SOPES1/Practica1/FrontEnd/node_modules/@babel/runtime/regenerator/index.js\";import React,{Component}from'react';import{Toast,ToastHeader,ToastBody,Row,Col,Button,Container,Input}from'reactstrap';import'bootstrap/dist/css/bootstrap.min.css';import{API_SERVER,API_PORT}from'../Config/credentials';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Calculator=/*#__PURE__*/function(_Component){_inherits(Calculator,_Component);var _super=_createSuper(Calculator);function Calculator(){var _this;_classCallCheck(this,Calculator);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={left:\"\",right:\"\",operator:\"\",iswaiting:false,isresult:false};_this.clearCalc=function(){_this.setState({left:\"\",right:\"\",operator:\"\",iswaiting:false,isresult:false});};_this.addDigit=function(digit){if(_this.state.iswaiting){//Right\n_this.setState({right:_this.state.right+digit});}else{//Left\n_this.setState({left:_this.state.left+digit});}};_this.setNegative=function(){if(_this.state.iswaiting){//Right\nif(_this.state.right===\"\"){_this.addDigit(\"-\");return false;}return true;}else{//Left\nif(_this.state.left===\"\"){_this.addDigit(\"-\");return false;}return true;}};_this.setOperator=function(operator){if(_this.state.operator===\"\"){if(operator===\"-\"){if(_this.setNegative()){_this.setState({operator:operator,iswaiting:true});}}else{if(_this.state.left!==\"\"&&_this.state.left!==\"-\"){_this.setState({operator:operator,iswaiting:true});}}}else{if(operator===\"-\"&&_this.state.right===\"\"){if(_this.setNegative()){_this.setState({operator:operator,iswaiting:true});}}else{if(_this.state.right===\"\"){_this.setState({operator:operator,iswaiting:true});}}}};_this.setDecimal=function(){if(_this.state.iswaiting){//right\nif(!_this.state.right.includes(\".\")){_this.addDigit(\".\");}}else{//left\nif(!_this.state.left.includes(\".\")){_this.addDigit(\".\");}}};_this.setResult=function(){if(_this.state.iswaiting){var l=parseFloat(_this.state.left);var r=parseFloat(_this.state.right);var o=_this.state.operator;var result=\"\";switch(_this.state.operator){case\"+\":result=(l+r).toString();break;case\"-\":result=(l-r).toString();break;case\"*\":result=(l*r).toString();break;case\"/\":result=(l/r).toString();break;default:result=\"0\";break;}_this.pushResult(l,r,o);_this.setState({left:result,right:\"\",operator:\"\",iswaiting:false,isresult:false});}};_this.pushResult=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(left,right,operator){var body,requestOptions,response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:body={left:parseFloat(left),right:parseFloat(right),operator:operator};requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)};_context.next=4;return fetch(\"\".concat(API_SERVER,\":\").concat(API_PORT,\"/addOperation/\"),requestOptions);case 4:response=_context.sent;_context.next=7;return response.json();case 7:json=_context.sent;if(json.inserted===1&&_this.props.addLocalData!=undefined){_this.props.addLocalData({left:parseFloat(left),right:parseFloat(right),operator:operator,timestamp:Date()});}case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2,_x3){return _ref.apply(this,arguments);};}();return _this;}_createClass(Calculator,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-dark p-3 m-2 rounded\",children:/*#__PURE__*/_jsxs(Toast,{children:[/*#__PURE__*/_jsx(ToastHeader,{className:\"bg-secondary\",children:/*#__PURE__*/_jsx(Input,{bsSize:\"lg\",placeholder:\"0\",size:100,className:\"border-0 bg-secondary text-light\",disabled:true,value:this.state.iswaiting?this.state.operator+\" \"+this.state.right:this.state.left})}),/*#__PURE__*/_jsx(ToastBody,{className:\"bg-danger\",children:/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{color:\"danger\",onClick:function onClick(){return _this2.setOperator(\"+\");},children:\"+\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{color:\"danger\",onClick:function onClick(){return _this2.setOperator(\"-\");},children:\"-\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{color:\"danger\",onClick:function onClick(){return _this2.setOperator(\"*\");},children:\"*\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{color:\"danger\",onClick:function onClick(){return _this2.setOperator(\"/\");},children:\"/\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{color:\"danger\",onClick:function onClick(){return _this2.clearCalc();},children:\"C\"})})]})}),/*#__PURE__*/_jsx(ToastBody,{className:\"bg-secondary\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{block:true,onClick:function onClick(){return _this2.addDigit(\"1\");},children:\"1\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{block:true,onClick:function onClick(){return _this2.addDigit(\"2\");},children:\"2\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{block:true,onClick:function onClick(){return _this2.addDigit(\"3\");},children:\"3\"})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{block:true,onClick:function onClick(){return _this2.addDigit(\"4\");},children:\"4\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{block:true,onClick:function onClick(){return _this2.addDigit(\"5\");},children:\"5\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{block:true,onClick:function onClick(){return _this2.addDigit(\"6\");},children:\"6\"})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{block:true,onClick:function onClick(){return _this2.addDigit(\"7\");},children:\"7\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{block:true,onClick:function onClick(){return _this2.addDigit(\"8\");},children:\"8\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{block:true,onClick:function onClick(){return _this2.addDigit(\"9\");},children:\"9\"})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{block:true,onClick:function onClick(){return _this2.addDigit(\"0\");},children:\"0\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{block:true,onClick:function onClick(){return _this2.setDecimal();},children:\".\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{block:true,onClick:function onClick(){return _this2.setResult();},children:\"=\"})})]})]})})]})});}}]);return Calculator;}(Component);export{Calculator as default};","map":{"version":3,"sources":["/home/stevengez/Documentos/GitHub/SOPES1/Practica1/FrontEnd/src/Components/Calculator.js"],"names":["React","Component","Toast","ToastHeader","ToastBody","Row","Col","Button","Container","Input","API_SERVER","API_PORT","Calculator","state","left","right","operator","iswaiting","isresult","clearCalc","setState","addDigit","digit","setNegative","setOperator","setDecimal","includes","setResult","l","parseFloat","r","o","result","toString","pushResult","body","requestOptions","method","headers","JSON","stringify","fetch","response","json","inserted","props","addLocalData","undefined","timestamp","Date"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {\n    Toast,\n    ToastHeader,\n    ToastBody,\n    Row,\n    Col,\n    Button,\n    Container,\n    Input\n} from 'reactstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { API_SERVER, API_PORT } from '../Config/credentials';\n\n\nexport default class Calculator extends Component {\n\n    state = {\n        left: \"\",\n        right: \"\",\n        operator: \"\",\n        iswaiting: false,\n        isresult: false\n    };\n\n    clearCalc = () => {\n        this.setState({\n            left: \"\",\n            right: \"\",\n            operator: \"\",\n            iswaiting: false,\n            isresult: false\n        })\n    }\n\n    addDigit = (digit) =>{\n        if(this.state.iswaiting){\n            //Right\n            this.setState({\n                right: this.state.right+digit\n            });\n        }else{\n            //Left\n            this.setState({\n                left: this.state.left+digit\n            });\n        }\n    }\n\n    setNegative = () => {\n        if(this.state.iswaiting){\n            //Right\n            if(this.state.right === \"\"){\n                this.addDigit(\"-\");\n                return false;\n            }\n            return true;\n        }else{\n            //Left\n            if(this.state.left === \"\"){\n                this.addDigit(\"-\");\n                return false;\n            }\n            return true;\n        }\n    }\n\n    setOperator = (operator) => {\n        if(this.state.operator === \"\"){\n            if(operator === \"-\"){\n                if(this.setNegative()){\n                    this.setState({\n                        operator: operator,\n                        iswaiting: true\n                    });\n                }\n            }else{\n                if(this.state.left !== \"\" && this.state.left !== \"-\"){\n                    this.setState({\n                        operator: operator,\n                        iswaiting: true\n                    });\n                }\n            }\n        }else{\n            if(operator === \"-\" && this.state.right === \"\"){\n                if(this.setNegative()){\n                    this.setState({\n                        operator: operator,\n                        iswaiting: true\n                    });\n                }\n            }else{\n                if(this.state.right === \"\"){\n                    this.setState({\n                        operator: operator,\n                        iswaiting: true\n                    });\n                }\n            }\n        }\n    }\n\n    setDecimal = () => {\n        if(this.state.iswaiting){\n            //right\n            if(!this.state.right.includes(\".\")){\n                this.addDigit(\".\");\n            }\n        }else{\n            //left\n            if(!this.state.left.includes(\".\")){\n                this.addDigit(\".\");\n            }\n        }\n    }\n\n    setResult = () => {\n        if(this.state.iswaiting){\n            const l = parseFloat(this.state.left);\n            const r = parseFloat(this.state.right);\n            const o = this.state.operator;\n            let result = \"\";\n\n            switch(this.state.operator){\n                case \"+\":\n                    result = (l+r).toString();\n                    break;\n                case \"-\":\n                    result = (l-r).toString();\n                    break;\n                case \"*\":\n                    result = (l*r).toString();\n                    break;\n                case \"/\":\n                    result = (l/r).toString(); \n                    break;\n                default:\n                    result = \"0\"; \n                    break;\n            }\n\n            this.pushResult(l, r, o);\n\n            this.setState({\n                left: result,\n                right: \"\",\n                operator: \"\",\n                iswaiting: false,\n                isresult: false\n            });\n        }\n    }\n\n    pushResult = async (left, right, operator) => {\n        const body = {\n            left: parseFloat(left),\n            right: parseFloat(right),\n            operator: operator\n        };\n\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(body)\n        }\n        \n        const response = await fetch(`${API_SERVER}:${API_PORT}/addOperation/`, requestOptions);\n        const json = await response.json();\n\n        if(json.inserted === 1 && this.props.addLocalData != undefined){\n            this.props.addLocalData({\n                left: parseFloat(left),\n                right: parseFloat(right),\n                operator: operator,\n                timestamp: Date()\n            });\n        }\n    }\n\n    render() {\n        return <div className='bg-dark p-3 m-2 rounded'>\n            <Toast>\n                <ToastHeader className='bg-secondary'>\n                    <Input \n                        bsSize='lg'\n                        placeholder='0'\n                        size={100} \n                        className='border-0 bg-secondary text-light'\n                        disabled\n                        value= { \n                            this.state.iswaiting ? (this.state.operator+\" \"+this.state.right) : this.state.left\n                        }\n                    />\n                </ToastHeader>\n                <ToastBody className='bg-danger'>\n                    <Row className='align-items-center'>\n                        <Col>\n                            <Button color='danger' onClick={() => this.setOperator(\"+\")}>+</Button>\n                        </Col>\n                        <Col>\n                            <Button color='danger' onClick={() => this.setOperator(\"-\")}>-</Button>\n                        </Col>\n                        <Col>\n                            <Button color='danger' onClick={() => this.setOperator(\"*\")}>*</Button>\n                        </Col>\n                        <Col>\n                            <Button color='danger' onClick={() => this.setOperator(\"/\")}>/</Button>\n                        </Col>\n                        <Col>\n                            <Button color='danger' onClick={() => this.clearCalc()}>C</Button>\n                        </Col>\n                    </Row>\n                </ToastBody>\n                <ToastBody className='bg-secondary'>\n                    <Container>\n                        <Row>\n                            <Col>\n                                <Button block onClick={() => this.addDigit(\"1\")}>1</Button>\n                            </Col>\n                            <Col>\n                                <Button block onClick={() => this.addDigit(\"2\")}>2</Button>\n                            </Col>\n                            <Col>\n                                <Button block onClick={() => this.addDigit(\"3\")}>3</Button>\n                            </Col>\n                        </Row>\n\n                        <Row>\n                            <Col>\n                                <Button block onClick={() => this.addDigit(\"4\")}>4</Button>\n                            </Col>\n                            <Col>\n                                <Button block onClick={() => this.addDigit(\"5\")}>5</Button>\n                            </Col>\n                            <Col>\n                                <Button block onClick={() => this.addDigit(\"6\")}>6</Button>\n                            </Col>\n                        </Row>\n\n                        <Row>\n                            <Col>\n                                <Button block onClick={() => this.addDigit(\"7\")}>7</Button>\n                            </Col>\n                            <Col>\n                                <Button block onClick={() => this.addDigit(\"8\")}>8</Button>\n                            </Col>\n                            <Col>\n                                <Button block onClick={() => this.addDigit(\"9\")}>9</Button>\n                            </Col>\n                        </Row>\n\n                        <Row>\n                            <Col>\n                                <Button block onClick={() => this.addDigit(\"0\")}>0</Button>\n                            </Col>\n                            <Col>\n                                <Button block onClick={() => this.setDecimal()}>.</Button>\n                            </Col>\n                            <Col>\n                                <Button block onClick={() => this.setResult()}>=</Button>\n                            </Col>\n                        </Row>\n                    </Container>\n                </ToastBody>\n            </Toast>\n        </div>\n    }\n}"]},"metadata":{},"sourceType":"module"}