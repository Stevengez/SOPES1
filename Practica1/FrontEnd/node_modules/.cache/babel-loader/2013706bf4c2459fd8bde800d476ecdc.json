{"ast":null,"code":"var _jsxFileName = \"/home/stevengez/Documentos/GitHub/SOPES1/Practica1/FrontEnd/src/Components/Records.js\";\nimport React, { Component } from 'react';\nimport simpletime from 'simpletime';\nimport DataTable from 'react-data-table-component';\nimport { API_SERVER, API_PORT } from '../Config/credentials';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Records extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: []\n    };\n\n    this.getRecordsFromAPI = async () => {\n      const requestOptions = {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      const response = await fetch(`${API_SERVER}:${API_PORT}/getRecords/`, requestOptions);\n      const result = await response.json();\n      return result;\n    };\n\n    this.addLocalOperation = newOperation => {\n      console.log(\"new entry:\", newOperation);\n      let newData = [];\n      newData.unshift(newOperation);\n      this.setState({\n        data: newData\n      });\n    };\n\n    this.columns = [{\n      name: 'Timestamp',\n      selector: row => simpletime.applyFormatDate(row.timestamp, \"d/M/yy h:mm\")\n    }, {\n      name: 'Left',\n      selector: row => row.left\n    }, {\n      name: 'Operation',\n      selector: row => row.operator\n    }, {\n      name: 'Right',\n      selector: row => row.right\n    }, {\n      name: 'Result',\n      selector: row => {\n        switch (row.operator) {\n          case \"+\":\n            return (row.left + row.right).toString();\n\n          case \"-\":\n            return (row.left - row.right).toString();\n\n          case \"*\":\n            return (row.left * row.right).toString();\n\n          case \"/\":\n            return (row.left / row.right).toString();\n\n          default:\n            return \"Syntax Error\";\n        }\n      }\n    }];\n    this.getRecordsFromAPI().then(result => {\n      let opList = [];\n      result.forEach(item => {\n        opList.push({\n          left: item.left,\n          right: item.right,\n          operator: item.operator,\n          timestamp: item.timestamp\n        });\n      });\n      this.setState({\n        data: opList\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.props.setLocalHandler(this.addLocalOperation);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(DataTable, {\n        pagination: true,\n        columns: this.columns,\n        data: this.state.data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/stevengez/Documentos/GitHub/SOPES1/Practica1/FrontEnd/src/Components/Records.js"],"names":["React","Component","simpletime","DataTable","API_SERVER","API_PORT","Records","constructor","props","state","data","getRecordsFromAPI","requestOptions","method","headers","response","fetch","result","json","addLocalOperation","newOperation","console","log","newData","unshift","setState","columns","name","selector","row","applyFormatDate","timestamp","left","operator","right","toString","then","opList","forEach","item","push","componentDidMount","setLocalHandler","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,uBAArC;;AAIA,eAAe,MAAMC,OAAN,SAAsBL,SAAtB,CAAgC;AAM3CM,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AADc,SAJlBC,KAIkB,GAJV;AACJC,MAAAA,IAAI,EAAE;AADF,KAIU;;AAAA,SAgElBC,iBAhEkB,GAgEE,YAAY;AAC5B,YAAMC,cAAc,GAAG;AACnBC,QAAAA,MAAM,EAAE,KADW;AAEnBC,QAAAA,OAAO,EAAE;AAAE,0BAAe;AAAjB;AAFU,OAAvB;AAKA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEZ,UAAW,IAAGC,QAAS,cAA3B,EAA0CO,cAA1C,CAA5B;AACA,YAAMK,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAArB;AACA,aAAOD,MAAP;AACH,KAzEiB;;AAAA,SA2ElBE,iBA3EkB,GA2EGC,YAAD,IAAkB;AAClCC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,YAA1B;AACA,UAAIG,OAAO,GAAG,EAAd;AACAA,MAAAA,OAAO,CAACC,OAAR,CAAgBJ,YAAhB;AAEA,WAAKK,QAAL,CAAc;AACVf,QAAAA,IAAI,EAAEa;AADI,OAAd;AAGH,KAnFiB;;AAGd,SAAKG,OAAL,GAAe,CACX;AACIC,MAAAA,IAAI,EAAE,WADV;AAEIC,MAAAA,QAAQ,EAAEC,GAAG,IAAI3B,UAAU,CAAC4B,eAAX,CAA2BD,GAAG,CAACE,SAA/B,EAA0C,aAA1C;AAFrB,KADW,EAKX;AACIJ,MAAAA,IAAI,EAAE,MADV;AAEIC,MAAAA,QAAQ,EAAEC,GAAG,IAAIA,GAAG,CAACG;AAFzB,KALW,EASX;AACIL,MAAAA,IAAI,EAAE,WADV;AAEIC,MAAAA,QAAQ,EAAEC,GAAG,IAAIA,GAAG,CAACI;AAFzB,KATW,EAcX;AACIN,MAAAA,IAAI,EAAE,OADV;AAEIC,MAAAA,QAAQ,EAAEC,GAAG,IAAIA,GAAG,CAACK;AAFzB,KAdW,EAkBX;AACIP,MAAAA,IAAI,EAAE,QADV;AAEIC,MAAAA,QAAQ,EAAEC,GAAG,IAAI;AACb,gBAAOA,GAAG,CAACI,QAAX;AACI,eAAK,GAAL;AACI,mBAAO,CAACJ,GAAG,CAACG,IAAJ,GAASH,GAAG,CAACK,KAAd,EAAqBC,QAArB,EAAP;;AACJ,eAAK,GAAL;AACI,mBAAO,CAACN,GAAG,CAACG,IAAJ,GAASH,GAAG,CAACK,KAAd,EAAqBC,QAArB,EAAP;;AACJ,eAAK,GAAL;AACI,mBAAO,CAACN,GAAG,CAACG,IAAJ,GAASH,GAAG,CAACK,KAAd,EAAqBC,QAArB,EAAP;;AACJ,eAAK,GAAL;AACI,mBAAO,CAACN,GAAG,CAACG,IAAJ,GAASH,GAAG,CAACK,KAAd,EAAqBC,QAArB,EAAP;;AACJ;AACI,mBAAO,cAAP;AAVR;AAYH;AAfL,KAlBW,CAAf;AAsCA,SAAKxB,iBAAL,GAAyByB,IAAzB,CAA+BnB,MAAD,IAAY;AACtC,UAAIoB,MAAM,GAAG,EAAb;AACApB,MAAAA,MAAM,CAACqB,OAAP,CAAgBC,IAAD,IAAU;AACrBF,QAAAA,MAAM,CAACG,IAAP,CAAY;AACRR,UAAAA,IAAI,EAAEO,IAAI,CAACP,IADH;AAERE,UAAAA,KAAK,EAAEK,IAAI,CAACL,KAFJ;AAGRD,UAAAA,QAAQ,EAAEM,IAAI,CAACN,QAHP;AAIRF,UAAAA,SAAS,EAAEQ,IAAI,CAACR;AAJR,SAAZ;AAMH,OAPD;AASA,WAAKN,QAAL,CAAc;AACVf,QAAAA,IAAI,EAAE2B;AADI,OAAd;AAGH,KAdD;AAeH;;AAIDI,EAAAA,iBAAiB,GAAE;AACf,SAAKjC,KAAL,CAAWkC,eAAX,CAA2B,KAAKvB,iBAAhC;AACH;;AAuBDwB,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAA,6BACI,QAAC,SAAD;AAAW,QAAA,UAAU,MAArB;AAAsB,QAAA,OAAO,EAAE,KAAKjB,OAApC;AAA6C,QAAA,IAAI,EAAE,KAAKjB,KAAL,CAAWC;AAA9D;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAKH;;AAjG0C","sourcesContent":["import React, {Component} from 'react';\nimport simpletime from 'simpletime';\nimport DataTable from 'react-data-table-component';\nimport { API_SERVER, API_PORT } from '../Config/credentials';\n\n\n\nexport default class Records extends Component {\n\n    state = {\n        data: []\n    };\n\n    constructor(props){\n        super(props);\n\n        this.columns = [\n            {\n                name: 'Timestamp',\n                selector: row => simpletime.applyFormatDate(row.timestamp, \"d/M/yy h:mm\")\n            },\n            {\n                name: 'Left',\n                selector: row => row.left\n            },\n            {\n                name: 'Operation',\n                selector: row => row.operator\n            },\n\n            {\n                name: 'Right',\n                selector: row => row.right\n            },\n            {\n                name: 'Result',\n                selector: row => {\n                    switch(row.operator){\n                        case \"+\":\n                            return (row.left+row.right).toString();\n                        case \"-\":\n                            return (row.left-row.right).toString();\n                        case \"*\":\n                            return (row.left*row.right).toString();\n                        case \"/\":\n                            return (row.left/row.right).toString();\n                        default:\n                            return \"Syntax Error\";\n                    }\n                }\n            },\n            \n        ];\n\n        this.getRecordsFromAPI().then((result) => {\n            let opList = [];\n            result.forEach((item) => {\n                opList.push({\n                    left: item.left,\n                    right: item.right,\n                    operator: item.operator,\n                    timestamp: item.timestamp\n                });\n            });\n\n            this.setState({\n                data: opList\n              });\n        });\n    }\n\n\n\n    componentDidMount(){\n        this.props.setLocalHandler(this.addLocalOperation);\n    }\n\n    getRecordsFromAPI = async () => {\n        const requestOptions = {\n            method: 'GET',\n            headers: { 'Content-Type':'application/json'}\n        }\n\n        const response = await fetch(`${API_SERVER}:${API_PORT}/getRecords/`, requestOptions);\n        const result = await response.json();\n        return result;\n    }\n\n    addLocalOperation = (newOperation) => {\n        console.log(\"new entry:\", newOperation);\n        let newData = [];\n        newData.unshift(newOperation);\n        \n        this.setState({\n            data: newData\n        })\n    }\n\n    render(){\n        return(\n            <div>\n                <DataTable pagination columns={this.columns} data={this.state.data}/>\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}